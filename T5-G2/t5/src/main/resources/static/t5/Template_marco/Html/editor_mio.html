<!doctype html>
<html lang="en" data-bs-theme="dark" id="html-root">

    <head th:include="fragments/header :: header">
        <link rel="stylesheet" href="../css/editor_marco.css">  
    </head>

<body>
    <!-- NAVBAR -->

    <div th:replace="fragments/navbar :: navbar"></div>

    <!-- DASHBOARD -->
    <div class="container-fluid">
        <div class="row">
            <!-- PRIMA COLONNA-->
            <div class="col">
                <div class="card d-flex flex-column" id="topcard">
                    <div class="card-header">
                        <nav class="navbar navbar-expand-lg">
                            <span class="navbar-brand lead">
                                Edit
                            </span>
                            <div class="ms-auto btn-group">
                                <button type="button" class="btn btn-custom btn-sm">
                                    <i class="bi bi-play h4"></i>
                                </button>
                                <button type="button" class="btn btn-custom btn-sm dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="#">Action</a></li>
                                    <li><a class="dropdown-item" href="#">Another action</a></li>
                                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li><a class="dropdown-item" href="#">Separated link</a></li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                    <div class="card-body overflow-y-hidden" id="section1">
                        <textarea id="myEditor"> 
                        /*Compila i campi "Nome" e "Cognome" con le informazioni richieste
                            Nome: "inserire il proprio nome"
                            Cognome: "inserire il proprio cognome"
                            Username: username
                            UserID: userID
                            Date: date
                            */
                            
                            import org.junit.Before;
                            import org.junit.After;
                            import org.junit.BeforeClass;
                            import org.junit.AfterClass;
                            import org.junit.Test;
                            import static org.junit.Assert.*;
                            
                            public class TestClasse {
                                @BeforeClass
                                public static void setUpClass() {
                                    // Eseguito una volta prima dell'inizio dei test nella classe
                                    // Inizializza risorse condivise o esegui altre operazioni di setup
                                }
                                
                                @AfterClass
                                public static void tearDownClass() {
                                    // Eseguito una volta alla fine di tutti i test nella classe
                                    // Effettua la pulizia delle risorse condivise o esegui altre operazioni di teardown
                                }
                                
                                @Before
                                public void setUp() {
                                    // Eseguito prima di ogni metodo di test
                                    // Preparazione dei dati di input specifici per il test
                                }
                                
                                @After
                                public void tearDown() {
                                    // Eseguito dopo ogni metodo di test
                                    // Pulizia delle risorse o ripristino dello stato iniziale
                                }
                                
                                @Test
                                public void testMetodo() {
                                    // Preparazione dei dati di input
                                    // Esegui il metodo da testare
                                    // Verifica l'output o il comportamento atteso
                                    // Utilizza assert per confrontare il risultato atteso con il risultato effettivo
                                }
                                
                                // Aggiungi altri metodi di test se necessario
                            }
                        </textarea>
                    </div>
                    <div class="card-header border-top">
                        <nav class="navbar navbar-expand-lg">
                            <span class="navbar-brand lead">
                                Console
                            </span>
                            <button type="button" class="btn btn-custom btn-sm" id="divider">
                                <i class="bi bi-arrows-expand"></i>
                            </button>
                        </nav>
                    </div>
                    <div class="card-body" id="section2">
                        weuefdquiwehoiqdwehuwefqjiodshioweewjids
                        weuefdquiwehoiqdwehuwefqjiodshioweewjids
                        weuefdquiwehoiqdwehuwefqjiodshioweewjids
                    </div>
                    <div class="card-footer text-body-secondary"></div>
                </div>
            </div>
            <!-- SECONDA COLONNA-->
            <div class="col">
                <div class="card text-center flex-column h-100">
                    <div class="card-header">
                        <nav class="navbar navbar-expand-lg">
                            <span class="navbar-brand lead">
                                Class Under Test
                            </span>
                            <div class="ms-auto btn-group">
                                <button type="button" class="btn btn-custom btn-sm">
                                    <i class="bi bi-play h4"></i>
                                </button>
                                <button type="button" class="btn btn-custom btn-sm dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="#">Action</a></li>
                                    <li><a class="dropdown-item" href="#">Another action</a></li>
                                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li><a class="dropdown-item" href="#">Separated link</a></li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                    <div class="card-body overflow-y-scroll">
                        /*Compila i campi "Nome" e "Cognome" con le informazioni richieste
                            Nome: "inserire il proprio nome"
                            Cognome: "inserire il proprio cognome"
                            Username: username
                            UserID: userID
                            Date: date
                            */
                            
                            import org.junit.Before;
                            import org.junit.After;
                            import org.junit.BeforeClass;
                            import org.junit.AfterClass;
                            import org.junit.Test;
                            import static org.junit.Assert.*;
                            
                            public class TestClasse {
                                @BeforeClass
                                public static void setUpClass() {
                                    // Eseguito una volta prima dell'inizio dei test nella classe
                                    // Inizializza risorse condivise o esegui altre operazioni di setup
                                }
                                
                                @AfterClass
                                public static void tearDownClass() {
                                    // Eseguito una volta alla fine di tutti i test nella classe
                                    // Effettua la pulizia delle risorse condivise o esegui altre operazioni di teardown
                                }
                                
                                @Before
                                public void setUp() {
                                    // Eseguito prima di ogni metodo di test
                                    // Preparazione dei dati di input specifici per il test
                                }
                                
                                @After
                                public void tearDown() {
                                    // Eseguito dopo ogni metodo di test
                                    // Pulizia delle risorse o ripristino dello stato iniziale
                                }
                                
                                @Test
                                public void testMetodo() {
                                    // Preparazione dei dati di input
                                    // Esegui il metodo da testare
                                    // Verifica l'output o il comportamento atteso
                                    // Utilizza assert per confrontare il risultato atteso con il risultato effettivo
                                }
                                
                                // Aggiungi altri metodi di test se necessario
                            }
                    </div>
                    <div class="card-footer text-body-secondary"></div>
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col">
                <div class="card text-center flex-column h-100">
                    <div class="card-header">
                        <span class="navbar-brand lead">
                            Output
                        </span>
                    </div>
                    <div class="card-body overflow-y-scroll">
                        <p>Visualizzazione dell'output del codice eseguito...</p>
                    </div>
                    <div class="card-footer text-body-secondary"></div>
                </div>
            </div>
        </div>
    </div>



    <!-- SCRIPTS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    
    <script>
        // Inizializzazione di CodeMirror
        var editor = CodeMirror.fromTextArea(document.getElementById("myEditor"), {
          lineNumbers: true,       // Mostra i numeri di riga
          mode: "javascript",      // Specifica la modalità del linguaggio (ad es. javascript, html, css)
          theme: "dracula",        // Tema opzionale, puoi rimuoverlo o cambiarlo
          tabSize: 1,              // Dimensione del tab
          autoCloseBrackets: true  // Chiude automaticamente parentesi e virgolette
        });
      </script>
    
    <script>
 const divider = document.getElementById('divider');
    const section1 = document.getElementById('section1');
    const section2 = document.getElementById('section2');
    const container = document.getElementById('topcard');
    let isDragging = false;

    // Imposta l'altezza del container all'altezza del viewport
    function setContainerHeight() {
        container.style.height = (window.innerHeight - 30)+ 'px';
    }

    // Inizializza l'altezza del container
    setContainerHeight();

    // Aggiungi un event listener per ridimensionare la finestra
    window.addEventListener('resize', setContainerHeight);

    // Aggiungi event listener per il mouse down (quando si inizia a trascinare)
    divider.addEventListener('mousedown', function (e) {
        isDragging = true;
        document.body.style.cursor = 'grabbing'; // Mostra la mano chiusa durante il trascinamento
        container.classList.add('no-select'); // Disabilita la selezione del testo
    });

    // Event listener per il movimento del mouse
    document.addEventListener('mousemove', function (e) {
        if (!isDragging) return; // Se non si sta trascinando, non fare nulla

        // Calcola la nuova altezza della prima sezione
        const containerRect = container.getBoundingClientRect();
        const offsetY = e.clientY - containerRect.top;

        // Imposta la nuova altezza per la prima sezione
        section1.style.height = `${offsetY}px`;

        // Imposta l'altezza per la seconda sezione basata sull'altezza del contenitore - offsetY
        section2.style.height = `${containerRect.height - offsetY - 10}px`; // -10 per l'altezza della divider
    });

    // Event listener per il rilascio del mouse (fine del trascinamento)
    document.addEventListener('mouseup', function () {
        isDragging = false; // Interrompe il ridimensionamento
        document.body.style.cursor = 'default'; // Ripristina il cursore predefinito
        container.classList.remove('no-select'); // Riabilita la selezione del testo
    });
    </script>

    <div th:replace="fragments/footer :: footer"></div>

</body>
</html>